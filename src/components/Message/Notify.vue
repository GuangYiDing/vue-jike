<template>
  <div class="Notify">
    <div class="left">
      <van-image round class="avatar" :src="avatar" />
    </div>
    <div class="middle">
      <div class="user">{{ user }}</div>
      <span>å›å¤äº†ä½ </span>
      <div class="replyContent">
        {{ replyContent }}
      </div>
      <span>{{ toDate(timestamp) }}ä¹‹å‰</span>
    </div>
    <div class="right">
      <div class="content van-multi-ellipsis--l3">
        {{ content }}
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "Notify",
  data() {
    return {
      avatar: "https://gitee.com/xiaodingsiren/JikePic/raw/master/alu/äº²äº².png",
      user: "Maxä¸¶æµ·è´¼",
      replyContent: "è€—å­å°¾æ± å¥½å¥½åæ€ ä¸è¦å†çŠ¯è¿™æ ·çš„èªæ˜ å°èªæ˜å•Š ğŸ™…â€â™‚ï¸",
      timestamp: 1605669680,
      content:
        "é©¬è€å¸ˆ,å‘ç”Ÿè‚¾ä¹ˆäº‹å•¦é©¬è€å¸ˆ,å‘ç”Ÿè‚¾ä¹ˆäº‹å•¦é©¬è€å¸ˆ,å‘ç”Ÿè‚¾ä¹ˆäº‹å•¦é©¬è€å¸ˆ,å‘ç”Ÿè‚¾ä¹ˆäº‹å•¦",
    };
  },
  methods: {
    toDate(timestamp) {
      //   var mistiming = Math.round(new Date()) - timestamp;
      //   var postfix = mistiming > 0 ? "å‰" : "å";
      //   mistiming = Math.abs(mistiming);
      //   var arrr = ["å¹´", "ä¸ªæœˆ", "æ˜ŸæœŸ", "å¤©", "å°æ—¶", "åˆ†é’Ÿ", "ç§’"];
      //   var arrn = [31536000, 2592000, 604800, 86400, 3600, 60, 1];

      //   for (var i = 0; i < 7; i++) {
      //     var inm = Math.floor(mistiming / arrn[i]);
      //     if (inm != 0) {
      //       return inm + arrr[i] + postfix;
      //     }
      //   }
      let abs = Math.round(new Date().getTime() / 1000 - timestamp);
      if (abs < 60) {
        return abs + "ç§’";
      } else if (abs < 60 * 60) {
        return abs + "åˆ†é’Ÿ";
      } else if (abs < 60 * 60 * 60) {
        return abs + "å°æ—¶";
      }
      return abs;
    },
  },
};
</script>

<style>
.Notify {
  display: flex;
  /* width: 100%; */
  padding: 12px;
  font-size: 12px;
  border-bottom: 3px solid #fafafa;
}
.Notify .left img {
  width: 60px;
}
.Notify .middle {
  margin: 0 12px;
  max-width: 200px;
}
.Notify .middle .user,
.Notify .middle span {
  display: inline-block;
}
.Notify .middle .user {
  font-weight: 900;
  margin-right: 12px;
}
.Notify .middle span {
  color: #8e8e8e8e;
}
.Notify .right .content::before {
  content: "''";
}
.Notify .right .content {
  color: #8e8e8e8e;
  max-width: 100px;
  text-overflow: ellipsis;
}
</style>