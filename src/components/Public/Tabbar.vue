<template>
  <div class="JTabBar">
    <van-tabbar route v-model="active">
      <van-tabbar-item replace to="/friends" icon="friends-o"
        >åŠ¨æ€</van-tabbar-item
      >
      <van-tabbar-item replace to="/" icon="orders-o">æ¨è</van-tabbar-item>
      <van-tabbar-item replace to="/post" icon="plus">å‘å¸ƒ</van-tabbar-item>
      <van-tabbar-item replace to="/messages" icon="chat-o" badge="99+"
        >é€šçŸ¥</van-tabbar-item
      >
      <van-tabbar-item replace icon="user-circle-o" @click="checkLogin">
        æˆ‘çš„</van-tabbar-item
      >
    </van-tabbar>
  </div>
</template>

<script>
export default {
  name: "Tabbar",
  data() {
    return {
      active: 2,
      show: false,
    };
  },
  methods: {
    checkLogin() {
      if (this.$store.state.token == null) {
        this.$dialog
          .confirm({
            title: "å“¦å¼",
            message: "è¿˜æ²¡ç™»å½•?æ¥ç™»å½•ä¸€èµ·æäº‹å§ğŸ˜~",
            confirmButtonText: "å»ç™»å½•",
            cancelButtonText: "æˆ‘æ‰ä¸",
          })
          .then(() => {
            this.$router.push("/Login");
          })
          .catch(() => {
            return false;
          });
        return false;
      } else {
        this.$router.push("/Mine");
      }
    },
  },
};
</script>

<style>
.JTabBar {
  height: 50px;
  position: fixed;
  bottom: 0;
}
</style>